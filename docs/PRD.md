# LabelHub MVP äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

> ç‰ˆæœ¬ï¼šv1.0-MVP (ä¿®è®¢ç‰ˆ)  
> æœ€åæ›´æ–°ï¼š2025-12-13  
> ç›®æ ‡ï¼šæ‰“é€ é«˜æ•ˆã€æ˜“ç”¨çš„å¼€æºæ•°æ®æ ‡æ³¨å¹³å°ï¼Œä»¥**æå‡æ ‡æ³¨æ•ˆç‡**ä¸ºç¬¬ä¸€ç›®æ ‡  
> å˜æ›´ï¼šæ–°å¢ Parser Template ç³»ç»Ÿã€HTTP ç¼“å­˜å£å¾„ã€æŠ€æœ¯é€‰å‹é”å®š

---

## 1. äº§å“æ„¿æ™¯ä¸å®šä½

### 1.1 äº§å“æ„¿æ™¯
æ„å»ºä¸€ä¸ªè½»é‡çº§ã€é«˜æ€§èƒ½çš„æ•°æ®æ ‡æ³¨å¹³å°ï¼Œä¸“æ³¨äºè§£å†³**æ…¢ç½‘ç»œç¯å¢ƒ**ä¸‹çš„æ ‡æ³¨æ•ˆç‡é—®é¢˜ï¼Œé€šè¿‡æ™ºèƒ½é¢„å–ã€é¢„æ ‡æ³¨å¯¼å…¥ã€å¿«æ·é”®æ“ä½œç­‰ç‰¹æ€§ï¼Œå¤§å¹…é™ä½æ ‡æ³¨å‘˜çš„ç­‰å¾…æ—¶é—´å’Œæ“ä½œæˆæœ¬ã€‚

### 1.2 æ ¸å¿ƒå·®å¼‚åŒ–
| ç‰¹æ€§ | LabelHub | ä¼ ç»Ÿæ–¹æ¡ˆ |
|------|----------|----------|
| æ…¢ç½‘ä½“éªŒ | ç¼©ç•¥å›¾+é¢„å–+è™šæ‹Ÿåˆ—è¡¨ | å¡é¡¿/ç™½å± |
| æ“ä½œæ•ˆç‡ | å…¨é”®ç›˜ + å°‘ç‚¹å‡» | å¤šæ¬¡ç‚¹å‡» |
| é¢„æ ‡æ³¨ | ä¸€é”®å¯¼å…¥/é‡‡çº³ | æ‰‹åŠ¨é‡ç»˜ |
| éƒ¨ç½²æˆæœ¬ | å•æœº Docker | å¤æ‚é›†ç¾¤ |

---

## 2. ç”¨æˆ·è§’è‰²ä¸ç”¨æˆ·æ•…äº‹

### 2.1 ç”¨æˆ·è§’è‰²å®šä¹‰

| è§’è‰² | èŒè´£ | MVPç‰ˆæœ¬ |
|------|------|---------|
| **æ ‡æ³¨å‘˜ (Annotator)** | æ‰§è¡Œå…·ä½“æ ‡æ³¨ä»»åŠ¡ | âœ… v1 |
| **é¡¹ç›®ç®¡ç†å‘˜ (Admin)** | åˆ›å»ºé¡¹ç›®ã€åˆ†é…ä»»åŠ¡ã€æŸ¥çœ‹ç»Ÿè®¡ | âœ… v1 |
| **å®¡é˜…è€… (Reviewer)** | å®¡æ ¸æ ‡æ³¨è´¨é‡ã€é€€å›/é€šè¿‡ | â³ v2 |

### 2.2 ç”¨æˆ·æ•…äº‹

#### ğŸ¯ æ ‡æ³¨å‘˜ (Annotator) - v1 å¿…åš

| ID | ç”¨æˆ·æ•…äº‹ | éªŒæ”¶æ ‡å‡† | ä¼˜å…ˆçº§ |
|----|----------|----------|--------|
| A-01 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³å¿«é€Ÿæµè§ˆä»»åŠ¡åˆ—è¡¨ï¼Œä»¥ä¾¿é€‰æ‹©è¦å¤„ç†çš„ä»»åŠ¡ | è™šæ‹Ÿåˆ—è¡¨æ— å¡é¡¿åŠ è½½ 1000+ æ¡ç›®ï¼›ç¼©ç•¥å›¾é¢„è§ˆ | P0 |
| A-02 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³åœ¨å›¾ç‰‡åŠ è½½æ—¶çœ‹åˆ°è¿›åº¦ï¼Œè€Œä¸æ˜¯ç™½å±ç­‰å¾… | éª¨æ¶å±+åŠ è½½è¿›åº¦æ¡ï¼›ä¸‹ä¸€å¼ é¢„å– | P0 |
| A-03 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³ç”¨é”®ç›˜å¿«é€Ÿæ ‡æ³¨åˆ†ç±»æ ‡ç­¾ï¼Œå‡å°‘é¼ æ ‡æ“ä½œ | æ•°å­—é”®1-9é€‰æ‹©ç±»åˆ«ï¼›Enterç¡®è®¤å¹¶ä¸‹ä¸€å¼  | P0 |
| A-04 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³ç»˜åˆ¶çŸ©å½¢æ¡†(bbox)æ ‡æ³¨ç›®æ ‡æ£€æµ‹ | æ‹–æ‹½ç»˜åˆ¶ï¼›æ‹–æ‹½è°ƒæ•´ï¼›åˆ é™¤ï¼›å¤åˆ¶ | P0 |
| A-05 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³ç»˜åˆ¶å¤šè¾¹å½¢(polygon)è¿›è¡Œåˆ†å‰²æ ‡æ³¨ | ç‚¹å‡»æ·»åŠ é¡¶ç‚¹ï¼›åŒå‡»é—­åˆï¼›ç¼–è¾‘é¡¶ç‚¹ | P0 |
| A-06 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³æ’¤é”€/é‡åšæˆ‘çš„æ“ä½œ | Ctrl+Z/Ctrl+Yï¼›å†å²æ ˆ â‰¥20 æ­¥ | P0 |
| A-07 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³è·³è¿‡æœ‰é—®é¢˜çš„å›¾ç‰‡å¹¶æ·»åŠ å¤‡æ³¨ | SkipæŒ‰é’®+å¿«æ·é”®(S)ï¼›å¿…å¡«è·³è¿‡åŸå›  | P0 |
| A-08 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³çœ‹åˆ°å½“å‰ä»»åŠ¡è¿›åº¦ | é¡¶éƒ¨è¿›åº¦æ¡ï¼šå·²å®Œæˆ/æ€»æ•°/è·³è¿‡æ•° | P0 |
| A-09 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³ä¸€é”®é‡‡çº³é¢„æ ‡æ³¨ç»“æœ | æ˜¾ç¤ºé¢„æ ‡æ³¨â†’ä¸€é”®é‡‡çº³/å…¨éƒ¨é‡‡çº³/é€ä¸ªç¼–è¾‘ | P0 |
| A-10 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³çœ‹åˆ°å¿«æ·é”®æç¤º | ä¾§è¾¹æ /åº•éƒ¨å¸¸é©»é”®ä½æç¤ºï¼›?é”®æ˜¾ç¤ºå®Œæ•´åˆ—è¡¨ | P1 |
| A-11 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³è°ƒæ•´å›¾ç‰‡äº®åº¦/å¯¹æ¯”åº¦ä»¥çœ‹æ¸…ç»†èŠ‚ | æ»‘å—è°ƒæ•´ï¼›ä¸å½±å“åŸå›¾ | P1 |
| A-12 | ä½œä¸ºæ ‡æ³¨å‘˜ï¼Œæˆ‘æƒ³æ”¾å¤§/ç¼©å°å›¾ç‰‡æŸ¥çœ‹ç»†èŠ‚ | æ»šè½®ç¼©æ”¾ï¼›æ‹–æ‹½å¹³ç§»ï¼›åŒå‡»å¤åŸ | P0 |

#### ğŸ› ï¸ é¡¹ç›®ç®¡ç†å‘˜ (Admin) - v1 å¿…åš

| ID | ç”¨æˆ·æ•…äº‹ | éªŒæ”¶æ ‡å‡† | ä¼˜å…ˆçº§ |
|----|----------|----------|--------|
| M-01 | ä½œä¸ºç®¡ç†å‘˜ï¼Œæˆ‘æƒ³åˆ›å»ºæ–°é¡¹ç›®å¹¶é…ç½®æ ‡æ³¨ç±»å‹ | é€‰æ‹©ï¼šåˆ†ç±»/æ£€æµ‹/åˆ†å‰²ï¼›å®šä¹‰ç±»åˆ«æ ‡ç­¾ | P0 |
| M-02 | ä½œä¸ºç®¡ç†å‘˜ï¼Œæˆ‘æƒ³å¯¼å…¥æ•°æ®é›† | **ä¼˜å…ˆ**ï¼šæœåŠ¡å™¨è·¯å¾„ç´¢å¼•/å¯¹è±¡å­˜å‚¨å¼•ç”¨ï¼›**å¯é€‰**ï¼šZIPä¸Šä¼ (v1.1) | P0 |
| M-03 | ä½œä¸ºç®¡ç†å‘˜ï¼Œæˆ‘æƒ³å¯¼å…¥é¢„æ ‡æ³¨æ•°æ® | Parser Template ç³»ç»Ÿï¼šä»»æ„ JSON/JSONL + å£°æ˜å¼æ˜ å°„ï¼›å†…ç½® COCO/YOLO/VOC æ¨¡æ¿ | P0 |
| M-04 | ä½œä¸ºç®¡ç†å‘˜ï¼Œæˆ‘æƒ³æŸ¥çœ‹é¡¹ç›®è¿›åº¦å’Œç»Ÿè®¡ | Dashboardï¼šå®Œæˆç‡ã€æ—¥ååã€äººå‡æ•ˆç‡ | P0 |
| M-05 | ä½œä¸ºç®¡ç†å‘˜ï¼Œæˆ‘æƒ³å¯¼å‡ºæ ‡æ³¨ç»“æœ | æ”¯æŒ COCO/YOLO/VOC æ ¼å¼ï¼›å¢é‡å¯¼å‡º | P0 |
| M-06 | ä½œä¸ºç®¡ç†å‘˜ï¼Œæˆ‘æƒ³é…ç½®é¡¹ç›®çš„æ ‡ç­¾æ¨¡æ¿ | é¢„è®¾ç±»åˆ«+é¢œè‰²+å¿«æ·é”®æ˜ å°„ | P1 |
| M-07 | ä½œä¸ºç®¡ç†å‘˜ï¼Œæˆ‘æƒ³æŸ¥çœ‹æ ‡æ³¨å‘˜æ•ˆç‡ç»Ÿè®¡ | äººå‡è€—æ—¶ã€é‡‡çº³ç‡ã€è¿”å·¥ç‡ | P1 |

#### ğŸ‘€ å®¡é˜…è€… (Reviewer) - v2

| ID | ç”¨æˆ·æ•…äº‹ | éªŒæ”¶æ ‡å‡† | ä¼˜å…ˆçº§ |
|----|----------|----------|--------|
| R-01 | ä½œä¸ºå®¡é˜…è€…ï¼Œæˆ‘æƒ³å®¡æ ¸å·²æäº¤çš„æ ‡æ³¨ | é€šè¿‡/é€€å›/ä¿®æ”¹ï¼›æ‰¹é‡æ“ä½œ | v2 |
| R-02 | ä½œä¸ºå®¡é˜…è€…ï¼Œæˆ‘æƒ³ç»™é€€å›çš„æ ‡æ³¨æ·»åŠ è¯„è¯­ | æ ‡è®°é—®é¢˜åŒºåŸŸ+æ–‡å­—è¯„è¯­ | v2 |
| R-03 | ä½œä¸ºå®¡é˜…è€…ï¼Œæˆ‘æƒ³çœ‹åˆ°è¿”å·¥è®°å½• | å†å²ç‰ˆæœ¬å¯¹æ¯”ï¼›ä¿®æ”¹é«˜äº® | v2 |

---

## 3. åŠŸèƒ½éœ€æ±‚è¯¦è¿°

### 3.1 æ ‡æ³¨ä»»åŠ¡ç±»å‹

| ä»»åŠ¡ç±»å‹ | æè¿° | MVP | v1.1 |
|----------|------|-----|------|
| **åˆ†ç±» (Classification)** | å•æ ‡ç­¾/å¤šæ ‡ç­¾å›¾ç‰‡åˆ†ç±» | âœ… | - |
| **ç›®æ ‡æ£€æµ‹ (Detection)** | çŸ©å½¢è¾¹ç•Œæ¡† (Bounding Box) | âœ… | - |
| **è¯­ä¹‰åˆ†å‰² (Segmentation)** | å¤šè¾¹å½¢ (Polygon) | âœ… | - |
| **å®ä¾‹åˆ†å‰² (Instance Seg)** | Mask ç”»ç¬”/æ©¡çš®æ“¦ | âŒ | âœ… |
| **å…³é”®ç‚¹ (Keypoint)** | éª¨éª¼ç‚¹æ ‡æ³¨ | âŒ | v2 |

### 3.2 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 3.2.1 é¢„æ ‡æ³¨å¯¼å…¥ - Parser Template ç³»ç»Ÿ

> **è®¾è®¡åŸåˆ™**ï¼šä¸å†™æ­»æ ¼å¼è§£æå™¨ï¼Œè€Œæ˜¯æä¾›å£°æ˜å¼æ˜ å°„æ¨¡æ¿ï¼Œæ”¯æŒä»»æ„ JSON/JSONL è¾“å…¥ã€‚

##### 3.2.1.1 è¾“å…¥æ ¼å¼

| æ ¼å¼ | è¯´æ˜ | è¦æ±‚ |
|------|------|------|
| **JSON** | å•ä¸ª JSON æ–‡ä»¶ | å®Œæ•´åŠ è½½åè§£æ |
| **JSONL** | æ¯è¡Œä¸€ä¸ª JSON record | **å¿…é¡»æµå¼è§£æ**ï¼Œä¸ä¸€æ¬¡æ€§è¯»å…¥å†…å­˜ |

##### 3.2.1.2 æ¨¡æ¿è¯­è¨€ï¼šJMESPath

- **é¦–é€‰**ï¼š[JMESPath](https://jmespath.org/) - æˆç†Ÿã€å®‰å…¨ã€æ˜“å­¦
- **å¯é€‰å…¼å®¹**ï¼šRFC 9535 JSONPath (v1.1 è€ƒè™‘ï¼Œéœ€è¯„ä¼°åº“æˆç†Ÿåº¦)
- **å…¼å®¹ç­–ç•¥**ï¼šMVP ä»…å®ç° JMESPathï¼›è‹¥åç»­æ”¯æŒ JSONPathï¼Œæ¨¡æ¿éœ€å£°æ˜ `lang: jmespath | jsonpath`

##### 3.2.1.3 æ¨¡æ¿ç»“æ„ (ParserTemplate)

```yaml
# æ¨¡æ¿å…ƒä¿¡æ¯
name: "custom_detection_v1"
description: "è‡ªå®šä¹‰æ£€æµ‹æ ¼å¼æ¨¡æ¿"
version: "1.0"
lang: "jmespath"              # è¡¨è¾¾å¼è¯­è¨€

# è¾“å…¥é…ç½®
input:
  type: "jsonl"               # json | jsonl
  record_path: null           # JSON æ—¶æŒ‡å®šè®°å½•æ•°ç»„è·¯å¾„ï¼Œå¦‚ "data.images[*]"
  encoding: "utf-8"

# å­—æ®µæ˜ å°„
mapping:
  image_key: "file"           # å›¾ç‰‡æ–‡ä»¶å/è·¯å¾„å­—æ®µ (å¿…å¡«)
  annotations_path: "objects" # æ ‡æ³¨æ•°ç»„è·¯å¾„ (å¿…å¡«)

  annotation:
    label: "cls"              # ç±»åˆ«å­—æ®µ (å¿…å¡«)
    score: "conf"             # ç½®ä¿¡åº¦ (å¯é€‰ï¼Œ0-1)
    
    # æ ‡æ³¨ç±»å‹ (ä¸‰é€‰ä¸€)
    bbox:
      path: "box"             # åæ ‡æ•°ç»„è·¯å¾„
      format: "xyxy"          # xyxy | xywh | cxcywh
      normalized: false       # æ˜¯å¦å½’ä¸€åŒ–åæ ‡ (è‡ªåŠ¨æ£€æµ‹ <1 åˆ™ä¸ºå½’ä¸€åŒ–)
    
    polygon:
      path: "segmentation"
      format: "flat"          # flat: [x1,y1,x2,y2,...] | nested: [[x1,y1],[x2,y2],...]
    
    classification:
      path: "category"        # å›¾ç‰‡çº§åˆ†ç±»å­—æ®µ

# é«˜çº§ï¼šè·¨æ•°ç»„å…³è” (å¦‚ COCO çš„ images + annotations åˆ†ç¦»)
lookup:
  annotations_by_image: "annotations[?image_id==`{image_id}`]"
  categories_map: "categories[*].{id: id, name: name}"

# æ ¡éªŒè§„åˆ™
validation:
  required_fields: ["file", "objects"]
  score_range: [0.0, 1.0]
  label_whitelist: null       # null è¡¨ç¤ºä¸é™åˆ¶
```

##### 3.2.1.4 å†…éƒ¨ Prediction æ ¼å¼ (ç»Ÿä¸€è¾“å‡º)

```typescript
interface Prediction {
  image_key: string;          // æ–‡ä»¶å/è·¯å¾„ï¼Œç”¨äºåŒ¹é… Image è®°å½•
  predictions: PredictionItem[];
}

interface PredictionItem {
  type: "classification" | "bbox" | "polygon";
  label: string;
  score?: number;             // 0-1ï¼Œå¯é€‰
  data: ClassificationData | BBoxData | PolygonData;
}

interface BBoxData {
  x: number;      // å·¦ä¸Šè§’ x (åƒç´ )
  y: number;      // å·¦ä¸Šè§’ y (åƒç´ )
  width: number;
  height: number;
}

interface PolygonData {
  points: [number, number][];  // [[x1,y1], [x2,y2], ...]
}

interface ClassificationData {
  value: string | string[];    // å•æ ‡ç­¾æˆ–å¤šæ ‡ç­¾
}
```

##### 3.2.1.5 å¯¼å…¥ä½“éªŒ

| åŠŸèƒ½ | è¦æ±‚ |
|------|------|
| **æ ¼å¼è‡ªåŠ¨æ£€æµ‹** | æ ¹æ®æ–‡ä»¶æ‰©å±•åå’Œå†…å®¹å—…æ¢ |
| **æ¨¡æ¿é€‰æ‹©** | ä¸‹æ‹‰é€‰æ‹©å†…ç½®æ¨¡æ¿ / å·²ä¿å­˜æ¨¡æ¿ / æ–°å»ºæ¨¡æ¿ |
| **æµ‹è¯•é¢„è§ˆ** | è§£æå‰ **20 æ¡** è®°å½•ï¼Œæ˜¾ç¤ºæ˜ å°„ç»“æœ |
| **é”™è¯¯å®šä½** | é”™è¯¯ä¿¡æ¯åŒ…å« **è¡Œå·**(JSONL) æˆ– **è®°å½•ç´¢å¼•**(JSON) |
| **æ ‡ç­¾æ˜ å°„** | è‡ªåŠ¨åŒ¹é…åŒåæ ‡ç­¾ï¼›æœªåŒ¹é…æ ‡ç­¾æ˜¾ç¤ºæ˜ å°„ç•Œé¢ |
| **ç½®ä¿¡åº¦è¿‡æ»¤** | å¯è®¾ç½®é˜ˆå€¼ (é»˜è®¤ 0ï¼Œå³ä¸è¿‡æ»¤) |
| **å†²çªå¤„ç†** | è¦†ç›– / è·³è¿‡ / åˆå¹¶ (åŒä¸€å›¾ç‰‡å·²æœ‰æ ‡æ³¨æ—¶) |
| **è¿›åº¦æ˜¾ç¤º** | å¤§æ–‡ä»¶æ˜¾ç¤ºè¿›åº¦æ¡ + é¢„è®¡å‰©ä½™æ—¶é—´ |

##### 3.2.1.6 æ ¡éªŒæœºåˆ¶

| å±‚çº§ | å®ç° |
|------|------|
| **è¾“å…¥æ ¡éªŒ** | å¯é€‰ JSON Schema æ ¡éªŒåŸå§‹è¾“å…¥ |
| **æ˜ å°„æ ¡éªŒ** | Pydantic æ ¡éªŒæ˜ å°„åçš„ Prediction ç»“æ„ |
| **ä¸šåŠ¡æ ¡éªŒ** | åæ ‡èŒƒå›´ã€æ ‡ç­¾å­˜åœ¨æ€§ã€å¿…å¡«å­—æ®µ |

##### 3.2.1.7 å®‰å…¨é™åˆ¶

| é™åˆ¶é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| **æ‰§è¡Œæ¨¡å¼** | çº¯è¡¨è¾¾å¼ | ç¦æ­¢ä»»æ„ä»£ç æ‰§è¡Œ |
| **è¡¨è¾¾å¼è¶…æ—¶** | 100ms/æ¡ | å•æ¡è®°å½•è§£æè¶…æ—¶ |
| **åµŒå¥—æ·±åº¦** | 20 å±‚ | é˜²æ­¢æ·±åº¦åµŒå¥—æ”»å‡» |
| **ç»“æœå¤§å°** | 10MB/æ¡ | é˜²æ­¢å†…å­˜çˆ†ç‚¸ |
| **æ–‡ä»¶å¤§å°** | 1GB | å•ä¸ªå¯¼å…¥æ–‡ä»¶ä¸Šé™ |

##### 3.2.1.8 å†…ç½®æ¨¡æ¿

ç³»ç»Ÿé¢„ç½®ä»¥ä¸‹æ¨¡æ¿ï¼Œ**ä½œä¸ºç¤ºä¾‹ + å›å½’æµ‹è¯•æ•°æ®**ï¼š

| æ¨¡æ¿å | æ ¼å¼ | æ”¯æŒç±»å‹ |
|--------|------|----------|
| `builtin_coco` | JSON | bbox, polygon |
| `builtin_yolo` | TXT (ç‰¹æ®Šå¤„ç†) | bbox |
| `builtin_voc` | XML (ç‰¹æ®Šå¤„ç†) | bbox |

> **æ³¨æ„**ï¼šYOLO TXT å’Œ VOC XML é JSON æ ¼å¼ï¼Œä½œä¸º**å†…ç½®è§£æå™¨**å®ç°ï¼Œä½†å¯¹å¤–æš´éœ²ä¸ºæ¨¡æ¿é€‰é¡¹ï¼Œä¿æŒç•Œé¢ä¸€è‡´æ€§ã€‚

##### 3.2.1.9 API ç«¯ç‚¹

```yaml
# Parser Template CRUD
POST   /api/v1/parser-templates           # åˆ›å»ºæ¨¡æ¿
GET    /api/v1/parser-templates           # æ¨¡æ¿åˆ—è¡¨ (å«å†…ç½®)
GET    /api/v1/parser-templates/{id}      # æ¨¡æ¿è¯¦æƒ…
PUT    /api/v1/parser-templates/{id}      # æ›´æ–°æ¨¡æ¿
DELETE /api/v1/parser-templates/{id}      # åˆ é™¤æ¨¡æ¿ (å†…ç½®ä¸å¯åˆ )

# è§£ææµ‹è¯•
POST   /api/v1/parser-templates/test      # æµ‹è¯•è§£æ (å‰ 20 æ¡)
  # Body: { template_id | template_def, file: <upload> }
  # Response: { success: bool, records: [...], errors: [{line, message}] }

# æ‰§è¡Œå¯¼å…¥
POST   /api/v1/datasets/{id}/import-predictions  # å¯¼å…¥é¢„æ ‡æ³¨
  # Body: { template_id, file: <upload>, options: {conflict, score_threshold} }
  # Response: { job_id } -> å¼‚æ­¥ä»»åŠ¡
```

#### 3.2.2 æ ‡æ³¨ç”»å¸ƒ (Annotation Canvas)

**ç»˜åˆ¶å·¥å…·ï¼š**
| å·¥å…· | å¿«æ·é”® | åŠŸèƒ½ |
|------|--------|------|
| é€‰æ‹© | V | é€‰ä¸­/ç§»åŠ¨/è°ƒæ•´æ ‡æ³¨ |
| çŸ©å½¢ | R | ç»˜åˆ¶ Bounding Box |
| å¤šè¾¹å½¢ | P | ç»˜åˆ¶ Polygon |
| ç¼©æ”¾ | æ»šè½®/+/- | æ”¾å¤§/ç¼©å°ç”»å¸ƒ |
| å¹³ç§» | ç©ºæ ¼+æ‹–æ‹½ | å¹³ç§»ç”»å¸ƒ |

**ç”»å¸ƒåŠŸèƒ½ï¼š**
- å¸é™„ç½‘æ ¼ (å¯é€‰)
- æ ‡æ³¨å›¾å±‚ç®¡ç†ï¼ˆæ˜¾ç¤º/éšè—/é”å®šï¼‰
- æ ‡æ³¨å±æ€§é¢æ¿ï¼ˆç±»åˆ«/å±æ€§/å¤‡æ³¨ï¼‰

#### 3.2.3 å¿«æ·é”®ç³»ç»Ÿ

**å…¨å±€å¿«æ·é”®ï¼š**
| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `1-9` | å¿«é€Ÿé€‰æ‹©ç±»åˆ« |
| `Enter` / `â†’` | æäº¤å¹¶ä¸‹ä¸€å¼  |
| `â†` | ä¸Šä¸€å¼  |
| `S` | è·³è¿‡å½“å‰ |
| `Delete` / `Backspace` | åˆ é™¤é€‰ä¸­æ ‡æ³¨ |
| `Ctrl+Z` | æ’¤é”€ |
| `Ctrl+Shift+Z` / `Ctrl+Y` | é‡åš |
| `Ctrl+A` | å…¨é€‰æ ‡æ³¨ |
| `Ctrl+D` | å–æ¶ˆé€‰ä¸­ |
| `Ctrl+C` | å¤åˆ¶æ ‡æ³¨ |
| `Ctrl+V` | ç²˜è´´æ ‡æ³¨ |
| `?` | æ˜¾ç¤ºå¿«æ·é”®å¸®åŠ© |
| `F` | å…¨å±/é€€å‡ºå…¨å± |

#### 3.2.4 æ“ä½œå†å² (Undo/Redo)

- å†å²æ ˆå®¹é‡ï¼šâ‰¥ 50 æ­¥
- æ”¯æŒæ“ä½œï¼šåˆ›å»º/åˆ é™¤/ä¿®æ”¹/ç§»åŠ¨/è°ƒæ•´å¤§å°/æ›´æ”¹ç±»åˆ«
- å†å²å¯è§†åŒ–ï¼šä¾§è¾¹æ æ˜¾ç¤ºæœ€è¿‘æ“ä½œåˆ—è¡¨ (å¯é€‰)

#### 3.2.5 è¿›åº¦æ˜¾ç¤º

**æ ‡æ³¨é¡µè¿›åº¦æ¡ï¼š**
```
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 42% (420/1000) | è·³è¿‡: 15 | é¢„è®¡å‰©ä½™: 2h 30m
```

**Dashboard ç»Ÿè®¡ï¼š**
- æ€»ä½“è¿›åº¦é¥¼å›¾
- æ¯æ—¥å®Œæˆè¶‹åŠ¿å›¾
- å„ç±»åˆ«æ ‡æ³¨æ•°é‡åˆ†å¸ƒ

---

## 4. ä¿¡æ¯æ¶æ„ä¸é¡µé¢è®¾è®¡

### 4.1 æ•´ä½“ä¿¡æ¯æ¶æ„

```
LabelHub
â”œâ”€â”€ ğŸ  é¦–é¡µ (Dashboard)
â”‚   â”œâ”€â”€ é¡¹ç›®æ¦‚è§ˆå¡ç‰‡
â”‚   â”œâ”€â”€ ä»Šæ—¥ç»Ÿè®¡
â”‚   â””â”€â”€ å¿«é€Ÿå…¥å£
â”‚
â”œâ”€â”€ ğŸ“ é¡¹ç›®åˆ—è¡¨ (/projects)
â”‚   â”œâ”€â”€ é¡¹ç›®å¡ç‰‡ç½‘æ ¼
â”‚   â”œâ”€â”€ ç­›é€‰/æœç´¢
â”‚   â””â”€â”€ æ–°å»ºé¡¹ç›®å…¥å£
â”‚
â”œâ”€â”€ ğŸ“Š é¡¹ç›®è¯¦æƒ… (/projects/:id)
â”‚   â”œâ”€â”€ æ•°æ®é›†ç®¡ç† Tab
â”‚   â”œâ”€â”€ ä»»åŠ¡é˜Ÿåˆ— Tab
â”‚   â”œâ”€â”€ è¿›åº¦ç»Ÿè®¡ Tab
â”‚   â””â”€â”€ é¡¹ç›®è®¾ç½® Tab
â”‚
â”œâ”€â”€ ğŸ–¼ï¸ æ•°æ®é›† (/projects/:id/dataset)
â”‚   â”œâ”€â”€ å›¾ç‰‡ç½‘æ ¼ (è™šæ‹Ÿåˆ—è¡¨)
â”‚   â”œâ”€â”€ ç­›é€‰ï¼šå…¨éƒ¨/å¾…æ ‡/å·²æ ‡/è·³è¿‡
â”‚   â”œâ”€â”€ æ‰¹é‡æ“ä½œ
â”‚   â””â”€â”€ å¯¼å…¥å…¥å£
â”‚
â”œâ”€â”€ âœï¸ æ ‡æ³¨é¡µ (/annotate/:taskId)
â”‚   â”œâ”€â”€ ç”»å¸ƒåŒºåŸŸ (ä¸­å¿ƒ)
â”‚   â”œâ”€â”€ å·¥å…·æ  (å·¦ä¾§)
â”‚   â”œâ”€â”€ ç±»åˆ«é¢æ¿ (å³ä¾§)
â”‚   â”œâ”€â”€ ç¼©ç•¥å›¾å¯¼èˆª (åº•éƒ¨)
â”‚   â””â”€â”€ è¿›åº¦æ¡ (é¡¶éƒ¨)
â”‚
â”œâ”€â”€ ğŸ“¥ å¯¼å…¥é¡µ (/projects/:id/import)
â”‚   â”œâ”€â”€ æ•°æ®å¯¼å…¥
â”‚   â”œâ”€â”€ é¢„æ ‡æ³¨å¯¼å…¥
â”‚   â””â”€â”€ æ ¼å¼è½¬æ¢
â”‚
â”œâ”€â”€ ğŸ“ˆ ç»Ÿè®¡é¢æ¿ (/projects/:id/stats)
â”‚   â”œâ”€â”€ æ•ˆç‡æŒ‡æ ‡
â”‚   â”œâ”€â”€ è´¨é‡æŒ‡æ ‡
â”‚   â””â”€â”€ è¶‹åŠ¿å›¾è¡¨
â”‚
â””â”€â”€ âš™ï¸ è®¾ç½® (/settings)
    â”œâ”€â”€ æ ‡ç­¾æ¨¡æ¿
    â”œâ”€â”€ å¿«æ·é”®é…ç½®
    â”œâ”€â”€ æ˜¾ç¤ºåå¥½
    â””â”€â”€ è´¦æˆ·è®¾ç½® (v1.1)
```

### 4.2 é¡µé¢è¯¦ç»†è®¾è®¡

#### 4.2.1 æ ‡æ³¨é¡µ (æ ¸å¿ƒé¡µé¢)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [è¿›åº¦æ¡] â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 42% (420/1000) â”‚ è·³è¿‡:15 â”‚ â±ï¸ å¹³å‡:45s â”‚ [?][â›¶] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                                                     â”‚ ç±»åˆ«     â”‚
â”‚ å·¥å…·æ  â”‚                                                     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
â”‚        â”‚                                                     â”‚ â”‚1.çŒ«ğŸŸ¢â”‚ â”‚
â”‚ [V]é€‰æ‹©â”‚                                                     â”‚ â”‚2.ç‹—ğŸ”µâ”‚ â”‚
â”‚ [R]çŸ©å½¢â”‚              [å›¾ç‰‡ç”»å¸ƒåŒºåŸŸ]                          â”‚ â”‚3.é¸ŸğŸŸ¡â”‚ â”‚
â”‚ [P]å¤šè¾¹â”‚                                                     â”‚ â”‚4.è½¦ğŸ”´â”‚ â”‚
â”‚        â”‚                 æ ‡æ³¨å®ä¾‹å åŠ æ˜¾ç¤º                      â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”€â”€â”€â”€â”€  â”‚                                                     â”‚          â”‚
â”‚ [+]æ”¾å¤§â”‚                                                     â”‚ å±æ€§     â”‚
â”‚ [-]ç¼©å°â”‚                                                     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
â”‚ [â†º]é‡ç½®â”‚                                                     â”‚ â”‚é®æŒ¡:â˜â”‚ â”‚
â”‚        â”‚                                                     â”‚ â”‚æˆªæ–­:â˜â”‚ â”‚
â”‚ â”€â”€â”€â”€â”€  â”‚                                                     â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [â—]äº®åº¦â”‚                                                     â”‚          â”‚
â”‚        â”‚                                                     â”‚ æ ‡æ³¨åˆ—è¡¨ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
â”‚ å¿«æ·é”® â”‚ [â† ä¸Šä¸€å¼ ] [ç¼©ç•¥å›¾æ»šåŠ¨æ¡] [ä¸‹ä¸€å¼  â†’]                  â”‚ â”‚bbox1 â”‚ â”‚
â”‚ æç¤ºåŒº â”‚ [è·³è¿‡(S)] [æäº¤(Enter)]                              â”‚ â”‚poly2 â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2.2 æ•°æ®é›†é¡µé¢ (è™šæ‹Ÿåˆ—è¡¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®é›†ï¼šè®­ç»ƒé›†A â”‚ å…¨éƒ¨(1000) â”‚ å¾…æ ‡(580) â”‚ å·²æ ‡(405) â”‚ è·³è¿‡(15)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æœç´¢ğŸ”] [ç­›é€‰â–¼] [æ’åºâ–¼]                    [å¯¼å…¥] [å¯¼å‡º] [æ‰¹é‡æ“ä½œâ–¼]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”             â”‚
â”‚ â”‚ç¼©ç•¥â”‚ â”‚ç¼©ç•¥â”‚ â”‚ç¼©ç•¥â”‚ â”‚ç¼©ç•¥â”‚ â”‚ç¼©ç•¥â”‚ â”‚ç¼©ç•¥â”‚ â”‚ç¼©ç•¥â”‚ â”‚ç¼©ç•¥â”‚             â”‚
â”‚ â”‚å›¾1 â”‚ â”‚å›¾2 â”‚ â”‚å›¾3 â”‚ â”‚å›¾4 â”‚ â”‚å›¾5 â”‚ â”‚å›¾6 â”‚ â”‚å›¾7 â”‚ â”‚å›¾8 â”‚             â”‚
â”‚ â”‚ âœ“  â”‚ â”‚ âœ“  â”‚ â”‚ â—‹  â”‚ â”‚ â—‹  â”‚ â”‚ âœ“  â”‚ â”‚ âŠ˜  â”‚ â”‚ â—‹  â”‚ â”‚ â—‹  â”‚ ...         â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜             â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”             â”‚
â”‚ â”‚    â”‚ â”‚    â”‚ â”‚    â”‚ â”‚â–‘â–‘â–‘â–‘â”‚ â”‚â–‘â–‘â–‘â–‘â”‚ â”‚â–‘â–‘â–‘â–‘â”‚ â”‚â–‘â–‘â–‘â–‘â”‚ â”‚â–‘â–‘â–‘â–‘â”‚ â† éª¨æ¶å±     â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. éåŠŸèƒ½éœ€æ±‚

### 5.1 æ€§èƒ½éœ€æ±‚ (æ…¢ç½‘ä¼˜åŒ–) ğŸš€

| æŒ‡æ ‡ | ç›®æ ‡ | å®ç°ç­–ç•¥ |
|------|------|----------|
| **é¦–å±åŠ è½½** | < 3s (æ…¢ç½‘) | ä»£ç åˆ†å‰²ï¼›å…³é”®CSSå†…è”ï¼›é¢„åŠ è½½éª¨æ¶ |
| **å›¾ç‰‡åˆ‡æ¢** | < 500ms æ„ŸçŸ¥ | é¢„å–ä¸‹ä¸€å¼ (+prefetch Nå¼ )ï¼›éª¨æ¶å±è¿‡æ¸¡ |
| **ç¼©ç•¥å›¾åŠ è½½** | æ— ç™½å± | æœåŠ¡ç«¯ç”Ÿæˆç¼©ç•¥å›¾ï¼›æ¸è¿›å¼åŠ è½½ï¼›LQIP |
| **é•¿åˆ—è¡¨æ»šåŠ¨** | 60fps | è™šæ‹Ÿåˆ—è¡¨(ä»…æ¸²æŸ“å¯è§†åŒº)ï¼›äº¤å‰è§‚å¯Ÿå™¨æ‡’åŠ è½½ |
| **æ“ä½œå“åº”** | < 100ms | ä¹è§‚æ›´æ–°ï¼›æœ¬åœ°çŠ¶æ€ä¼˜å…ˆï¼›åå°åŒæ­¥ |
| **ç”»å¸ƒæ¸²æŸ“** | 60fps | Canvas 2Dï¼›ç¦»å±æ¸²æŸ“å¤§å›¾ |

#### 5.1.1 HTTP ç¼“å­˜å£å¾„ (å¿…é¡»éµå¾ª)

##### å›¾ç‰‡èµ„æºç¼“å­˜ç­–ç•¥

| èµ„æºç±»å‹ | å°ºå¯¸ | Cache-Control | ETag | è¯´æ˜ |
|----------|------|---------------|------|------|
| **ç¼©ç•¥å›¾** | 200x200 | `public, max-age=86400, stale-while-revalidate=604800` | âœ… åŸºäºå†…å®¹å“ˆå¸Œ | 24h å¼ºç¼“å­˜ï¼Œ7d å¯ç”¨æ—§ç‰ˆ |
| **ä¸­å›¾** | 800px å®½ | `public, max-age=3600, stale-while-revalidate=86400` | âœ… åŸºäºå†…å®¹å“ˆå¸Œ | 1h å¼ºç¼“å­˜ï¼Œæ ‡æ³¨é¡µé¢„è§ˆç”¨ |
| **åŸå›¾** | åŸå§‹å°ºå¯¸ | `public, max-age=3600` | âœ… åŸºäºæ–‡ä»¶ä¿®æ”¹æ—¶é—´ | 1h å¼ºç¼“å­˜ |

##### æ¡ä»¶è¯·æ±‚ (304 Not Modified)

```http
# è¯·æ±‚
GET /api/v1/images/{id}/thumbnail
If-None-Match: "abc123"

# å“åº” (æœªä¿®æ”¹)
HTTP/1.1 304 Not Modified
ETag: "abc123"

# å“åº” (å·²ä¿®æ”¹)
HTTP/1.1 200 OK
ETag: "def456"
Content-Type: image/webp
```

##### å¤§æ–‡ä»¶æ–­ç‚¹ç»­ä¼  (Range/206)

> **MVP å¯é€‰ï¼Œv1.1 å¿…åš**

```http
# è¯·æ±‚åŸå›¾çš„éƒ¨åˆ†å†…å®¹
GET /api/v1/images/{id}/file
Range: bytes=0-1048575

# å“åº”
HTTP/1.1 206 Partial Content
Content-Range: bytes 0-1048575/5242880
Accept-Ranges: bytes
```

##### ä¹è§‚é”ä¸å¹¶å‘æ§åˆ¶

**ä¿å­˜æ ‡æ³¨æ—¶ä½¿ç”¨ If-Match å¤´é˜²æ­¢å¹¶å‘å†²çªï¼š**

```http
# è·å–æ ‡æ³¨ (è¿”å› ETag)
GET /api/v1/images/{id}/annotations
ETag: "v3"

# æäº¤æ›´æ–° (å¸¦ If-Match)
PUT /api/v1/images/{id}/annotations
If-Match: "v3"
Content-Type: application/json

{"annotations": [...]}
```

**å†²çªå“åº”ï¼š**

| çŠ¶æ€ç  | åœºæ™¯ | å“åº”ä½“ |
|--------|------|--------|
| `200 OK` | æ›´æ–°æˆåŠŸ | `{"etag": "v4", "data": {...}}` |
| `412 Precondition Failed` | ETag ä¸åŒ¹é… (è¢«ä»–äººä¿®æ”¹) | `{"error": "conflict", "current_etag": "v5", "message": "æ•°æ®å·²è¢«ä¿®æ”¹ï¼Œè¯·åˆ·æ–°åé‡è¯•"}` |
| `409 Conflict` | ä¸šåŠ¡å†²çª (å¦‚çŠ¶æ€ä¸å…è®¸) | `{"error": "invalid_state", "message": "è¯¥ä»»åŠ¡å·²è¢«è·³è¿‡"}` |

> **é€‰æ‹© 412 è€Œé 409**ï¼š412 æ˜ç¡®è¡¨ç¤º"æ¡ä»¶è¯·æ±‚å¤±è´¥"ï¼Œè¯­ä¹‰æ›´å‡†ç¡®ï¼›409 ç”¨äºä¸šåŠ¡é€»è¾‘å†²çªã€‚

##### Service Worker ç¼“å­˜ç­–ç•¥

| èµ„æºç±»å‹ | ç­–ç•¥ | è¯´æ˜ |
|----------|------|------|
| **é™æ€èµ„æº** (JS/CSS/å­—ä½“) | `stale-while-revalidate` | ä¼˜å…ˆç”¨ç¼“å­˜ï¼Œåå°æ›´æ–° |
| **HTML** | `network-first` | ä¼˜å…ˆç½‘ç»œï¼Œç¦»çº¿ç”¨ç¼“å­˜ |
| **å›¾ç‰‡ (ç¼©ç•¥å›¾/ä¸­å›¾)** | `cache-first` + åå°åˆ·æ–° | å‘½ä¸­ç¼“å­˜ç›´æ¥è¿”å›ï¼Œåå°æ£€æŸ¥æ›´æ–° |
| **API æ•°æ®** | `network-first` | ä¼˜å…ˆç½‘ç»œï¼Œç¦»çº¿ç”¨ç¼“å­˜ (v1.1 ç¦»çº¿æ”¯æŒ) |

```javascript
// SW ç¼“å­˜ç­–ç•¥ç¤ºä¾‹
workbox.routing.registerRoute(
  /\/api\/v1\/images\/\d+\/thumbnail/,
  new workbox.strategies.CacheFirst({
    cacheName: 'thumbnails',
    plugins: [
      new workbox.expiration.ExpirationPlugin({
        maxEntries: 500,
        maxAgeSeconds: 7 * 24 * 60 * 60, // 7 days
      }),
      new workbox.backgroundSync.BackgroundSyncPlugin('thumbnail-refresh'),
    ],
  })
);
```

#### 5.1.2 é¢„å–ä¸æœ¬åœ°ç¼“å­˜ç­–ç•¥

```
1. ç¼©ç•¥å›¾æœåŠ¡
   - æœåŠ¡ç«¯é¢„ç”Ÿæˆ 200x200 ç¼©ç•¥å›¾ (WebP æ ¼å¼)
   - Nginx ç›´æ¥æœåŠ¡é™æ€æ–‡ä»¶ (ç»•è¿‡ Python)
   - éµå¾ªä¸Šè¿° Cache-Control ç­–ç•¥

2. é¢„å–ç­–ç•¥
   - å½“å‰å›¾ç‰‡åŠ è½½å®Œæˆåï¼Œé¢„å–åç»­ 3 å¼ åŸå›¾
   - ç©ºé—²æ—¶é¢„å–å½“å‰ Â±5 èŒƒå›´çš„ç¼©ç•¥å›¾
   - ä½¿ç”¨ Intersection Observer + requestIdleCallback
   - å¸¦å®½æ„ŸçŸ¥ï¼šnavigator.connection.effectiveType < '4g' æ—¶å‡å°‘é¢„å–æ•°é‡

3. æœ¬åœ°ç¼“å­˜ (IndexedDB)
   - ç¼“å­˜å·²åŠ è½½å›¾ç‰‡ Blob (LRU æ·˜æ±°)
   - å®¹é‡ä¸Šé™ï¼š200MB
   - ä¼˜å…ˆç¼“å­˜ä¸­å›¾ (æ ‡æ³¨é¡µç”¨)ï¼Œå…¶æ¬¡åŸå›¾
   - æä¾›ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡

4. å¢é‡åŒæ­¥
   - æ ‡æ³¨ç»“æœæœ¬åœ°æš‚å­˜ (localStorage)
   - æ‰¹é‡æäº¤ï¼šé˜²æŠ– 1s / åˆ‡æ¢å›¾ç‰‡æ—¶ / æ‰‹åŠ¨ä¿å­˜
   - å†²çªå¤„ç†ï¼šæç¤ºç”¨æˆ·"æ•°æ®å·²è¢«ä¿®æ”¹"ï¼Œæä¾›è¦†ç›–/åˆå¹¶é€‰é¡¹
```

### 5.2 å¯ç”¨æ€§éœ€æ±‚ â™¿

| é¡¹ç›® | è¦æ±‚ |
|------|------|
| æµè§ˆå™¨å…¼å®¹ | Chrome 90+, Firefox 90+, Edge 90+, Safari 15+ |
| åˆ†è¾¨ç‡é€‚é… | 1280x720 ~ 4Kï¼›å“åº”å¼å¸ƒå±€ |
| é”®ç›˜å¯è®¿é—® | æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å¯çº¯é”®ç›˜æ“ä½œ |
| å¿«æ·é”®æç¤º | å¸¸é©»æç¤º + å®Œæ•´é”®ä½å›¾ |
| é”™è¯¯å¤„ç† | å‹å¥½æç¤ºï¼›è‡ªåŠ¨æ¢å¤ï¼›ä¸ä¸¢å¤±æ•°æ® |
| ç¦»çº¿æ”¯æŒ | æ–­ç½‘æ—¶å¯ç»§ç»­æ ‡æ³¨ï¼›æ¢å¤åè‡ªåŠ¨åŒæ­¥ (v1.1) |

### 5.3 å¯æ‰©å±•æ€§éœ€æ±‚ ğŸ“ˆ

| ç»´åº¦ | å½“å‰ç›®æ ‡ | é¢„ç•™æ‰©å±• |
|------|----------|----------|
| æ•°æ®é‡ | å•é¡¹ç›® 10 ä¸‡å¼  | åˆ†ç‰‡å­˜å‚¨ï¼›åˆ†é¡µæŸ¥è¯¢ |
| å¹¶å‘ç”¨æˆ· | 50 å¹¶å‘æ ‡æ³¨ | WebSocket è¿æ¥æ± ï¼›è´Ÿè½½å‡è¡¡ |
| æ ‡æ³¨ç±»å‹ | åˆ†ç±»/æ£€æµ‹/åˆ†å‰² | æ’ä»¶åŒ–å·¥å…·æ³¨å†Œæœºåˆ¶ |
| å­˜å‚¨åç«¯ | æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ | S3 / MinIO / OSS é€‚é…å™¨ |
| æ•°æ®åº“ | SQLite (å¼€å‘) / PostgreSQL (ç”Ÿäº§) | æ”¯æŒåˆ‡æ¢ |

**æ¶æ„é¢„ç•™ï¼š**
```
- æ ‡æ³¨å·¥å…·æ’ä»¶æœºåˆ¶ (v1.1)
- è‡ªå®šä¹‰å±æ€§å­—æ®µ (v1.1)
- Webhook å›è°ƒ (v2)
- SSO é›†æˆ (v2)
```

### 5.4 å¯è§‚æµ‹æ€§éœ€æ±‚ ğŸ“Š

| å±‚çº§ | ç›‘æ§å†…å®¹ | å®ç°æ–¹å¼ |
|------|----------|----------|
| **åº”ç”¨å±‚** | é¡µé¢åŠ è½½æ—¶é—´ã€API å“åº”æ—¶é—´ã€é”™è¯¯ç‡ | å‰ç«¯åŸ‹ç‚¹ (è‡ªç ”è½»é‡SDK) |
| **ä¸šåŠ¡å±‚** | æ ‡æ³¨æ•ˆç‡æŒ‡æ ‡ã€ç”¨æˆ·è¡Œä¸º | ä¸šåŠ¡æ—¥å¿— + Dashboard |
| **æœåŠ¡å±‚** | API QPSã€å»¶è¿Ÿåˆ†ä½æ•°ã€é”™è¯¯æ—¥å¿— | FastAPI middleware + ç»“æ„åŒ–æ—¥å¿— |
| **åŸºç¡€è®¾æ–½** | CPU/å†…å­˜/ç£ç›˜/ç½‘ç»œ | Docker stats / Prometheus (å¯é€‰) |

**æ—¥å¿—è§„èŒƒï¼š**
```json
{
  "timestamp": "2025-01-01T10:00:00Z",
  "level": "INFO",
  "service": "labelhub-api",
  "trace_id": "abc123",
  "user_id": "user_001",
  "action": "annotation_submit",
  "project_id": "proj_001",
  "task_id": "task_001",
  "duration_ms": 45,
  "metadata": {}
}
```

### 5.5 æ•°æ®å®‰å…¨éœ€æ±‚ ğŸ”’

| å®‰å…¨é¡¹ | è¦æ±‚ | å®ç° |
|--------|------|------|
| **ä¼ è¾“å®‰å…¨** | HTTPS å¼ºåˆ¶ | Nginx TLS ç»ˆç»“ |
| **è®¤è¯** | åŸºç¡€è®¤è¯ (v1) | JWT Tokenï¼›Session |
| **æˆæƒ** | é¡¹ç›®çº§æƒé™ | RBACï¼šAdmin/Annotator |
| **æ•°æ®éš”ç¦»** | é¡¹ç›®é—´éš”ç¦» | æŸ¥è¯¢è¿‡æ»¤ + è¡Œçº§å®‰å…¨ |
| **å®¡è®¡æ—¥å¿—** | å…³é”®æ“ä½œè®°å½• | æ“ä½œæ—¥å¿—è¡¨ |
| **å¤‡ä»½** | æ¯æ—¥å¤‡ä»½ | æ•°æ®åº“å¤‡ä»½è„šæœ¬ |
| **æ•æ„Ÿæ•°æ®** | ä¸å­˜å‚¨æ˜æ–‡å¯†ç  | bcrypt å“ˆå¸Œ |

---

## 6. æ•ˆç‡ KPI å®šä¹‰

> **æ•°æ®æºå£å¾„**ï¼šæ‰€æœ‰ç»Ÿè®¡æŒ‡æ ‡å‡ä»¥ **äº‹ä»¶æ—¥å¿— (Event Log)** ä¸ºæ•°æ®æºï¼Œè€Œéç›´æ¥æŸ¥è¯¢ä¸šåŠ¡è¡¨ã€‚  
> äº‹ä»¶æ—¥å¿—è®°å½•æ¯æ¬¡çŠ¶æ€å˜æ›´ã€æ“ä½œå®Œæˆç­‰å…³é”®äº‹ä»¶ï¼Œç¡®ä¿ç»Ÿè®¡å¯è¿½æº¯ã€å¯é‡ç®—ã€‚

### 6.1 æ ¸å¿ƒæ•ˆç‡æŒ‡æ ‡

| æŒ‡æ ‡ | å®šä¹‰ | è®¡ç®—å…¬å¼ | ç›®æ ‡å€¼ |
|------|------|----------|--------|
| **å¹³å‡æ ‡æ³¨è€—æ—¶** | å•å¼ å›¾ç‰‡ä»æ‰“å¼€åˆ°æäº¤çš„æ—¶é—´ | Î£(æäº¤æ—¶é—´-æ‰“å¼€æ—¶é—´) / å·²æ ‡æ•° | åˆ†ç±»<10s; æ£€æµ‹<60s; åˆ†å‰²<120s |
| **é¢„æ ‡æ³¨é‡‡çº³ç‡** | ç›´æ¥é‡‡çº³é¢„æ ‡æ³¨(æ— ä¿®æ”¹)çš„æ¯”ä¾‹ | çº¯é‡‡çº³æ•° / æœ‰é¢„æ ‡æ³¨çš„å›¾ç‰‡æ•° | > 60% |
| **é¢„æ ‡æ³¨ä¿®æ”¹ç‡** | é‡‡çº³åå¾®è°ƒçš„æ¯”ä¾‹ | é‡‡çº³åä¿®æ”¹æ•° / æœ‰é¢„æ ‡æ³¨çš„å›¾ç‰‡æ•° | < 30% |
| **è·³è¿‡ç‡** | è¢«è·³è¿‡çš„å›¾ç‰‡æ¯”ä¾‹ | è·³è¿‡æ•° / æ€»ä»»åŠ¡æ•° | < 5% |
| **è¿”å·¥ç‡** | è¢«é€€å›é‡æ–°æ ‡æ³¨çš„æ¯”ä¾‹ | é€€å›æ•° / å·²å®¡æ ¸æ•° | < 10% (v2) |
| **æ—¥ååé‡** | æ¯äººæ¯æ—¥å®Œæˆæ•°é‡ | æ—¥å®Œæˆæ•° / æ´»è·ƒæ ‡æ³¨å‘˜æ•° | åˆ†ç±»>500; æ£€æµ‹>200; åˆ†å‰²>100 |

### 6.2 è´¨é‡è¾…åŠ©æŒ‡æ ‡

| æŒ‡æ ‡ | å®šä¹‰ | ç”¨é€” |
|------|------|------|
| **æ ‡æ³¨ä¸€è‡´æ€§** | åŒä¸€å›¾ç‰‡å¤šäººæ ‡æ³¨çš„ IoU | è¯„ä¼°æ ‡æ³¨è§„èŒƒç†è§£åº¦ |
| **ç±»åˆ«åˆ†å¸ƒåå·®** | å®é™…åˆ†å¸ƒ vs é¢„æœŸåˆ†å¸ƒ | å‘ç°æ¼æ ‡/é”™æ ‡å€¾å‘ |
| **æ ‡æ³¨å¯†åº¦** | æ¯å¼ å›¾ç‰‡å¹³å‡æ ‡æ³¨æ•° | è¯„ä¼°å¤æ‚åº¦ |

### 6.3 ç³»ç»Ÿæ•ˆç‡æŒ‡æ ‡

| æŒ‡æ ‡ | å®šä¹‰ | ç›®æ ‡å€¼ |
|------|------|--------|
| **ç­‰å¾…æ—¶é—´å æ¯”** | ç­‰å¾…åŠ è½½æ—¶é—´ / æ€»æ“ä½œæ—¶é—´ | < 10% |
| **æ“ä½œå¤±è´¥ç‡** | ä¿å­˜å¤±è´¥æ¬¡æ•° / æ€»æ“ä½œæ¬¡æ•° | < 0.1% |
| **é¡µé¢æ— å“åº”ç‡** | å¡é¡¿æ—¶é—´(>100ms) / æ€»æ—¶é—´ | < 1% |

### 6.4 Dashboard å±•ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ“Š é¡¹ç›®æ•ˆç‡ä»ªè¡¨ç›˜                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ å¹³å‡è€—æ—¶ â”‚  â”‚ é‡‡çº³ç‡   â”‚  â”‚ è·³è¿‡ç‡   â”‚  â”‚ æ—¥åå   â”‚        â”‚
â”‚  â”‚  45s    â”‚  â”‚  72%    â”‚  â”‚  3.2%   â”‚  â”‚  180å¼   â”‚        â”‚
â”‚  â”‚  â†“12%   â”‚  â”‚  â†‘5%    â”‚  â”‚  â†“0.8%  â”‚  â”‚  â†‘15%   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚  [ä»Šæ—¥å®Œæˆè¶‹åŠ¿å›¾]              [å„æ ‡æ³¨å‘˜æ•ˆç‡æ’å]              â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ                         1. å¼ ä¸‰ - 220å¼  - 38s         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                     2. æå›› - 195å¼  - 42s         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                 3. ç‹äº” - 168å¼  - 51s         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. æ•°æ®æ¨¡å‹è®¾è®¡

### 7.1 æ ¸å¿ƒå®ä½“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Project   â”‚â”€â”€â”€â”€<â”‚   Dataset   â”‚â”€â”€â”€â”€<â”‚    Image    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id          â”‚     â”‚ id          â”‚     â”‚ id          â”‚
â”‚ name        â”‚     â”‚ project_id  â”‚     â”‚ dataset_id  â”‚
â”‚ type        â”‚     â”‚ name        â”‚     â”‚ filename    â”‚
â”‚ labels[]    â”‚     â”‚ description â”‚     â”‚ path        â”‚
â”‚ created_at  â”‚     â”‚ created_at  â”‚     â”‚ thumbnail   â”‚
â”‚ updated_at  â”‚     â”‚ updated_at  â”‚     â”‚ width       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ height      â”‚
                                        â”‚ status      â”‚  â† todo/in_progress/done/skipped/deleted
                                        â”‚ version     â”‚  â† ä¹è§‚é”ç‰ˆæœ¬å·
                                        â”‚ skip_reason â”‚
                                        â”‚ created_at  â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Annotation  â”‚â”€â”€â”€â”€<â”‚  History    â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
             â”‚ id          â”‚     â”‚ id          â”‚
             â”‚ image_id    â”‚     â”‚ annotation_idâ”‚
             â”‚ user_id     â”‚     â”‚ action      â”‚
             â”‚ type        â”‚     â”‚ before      â”‚
             â”‚ data (JSON) â”‚     â”‚ after       â”‚
             â”‚ source      â”‚     â”‚ user_id     â”‚
             â”‚ created_at  â”‚     â”‚ created_at  â”‚
             â”‚ updated_at  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ParserTemplate  â”‚     â”‚    EventLog     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id              â”‚     â”‚ id              â”‚
â”‚ name            â”‚     â”‚ event_type      â”‚  â† annotation_start/submit/skip/adopt...
â”‚ description     â”‚     â”‚ user_id         â”‚
â”‚ is_builtin      â”‚     â”‚ project_id      â”‚
â”‚ lang            â”‚  â† jmespath/jsonpath  â”‚ image_id        â”‚
â”‚ input_config    â”‚  â† JSON              â”‚ metadata (JSON) â”‚  â† è€—æ—¶ã€æ¥æºç­‰
â”‚ mapping (JSON)  â”‚     â”‚ created_at      â”‚
â”‚ validation      â”‚  â† JSON              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ created_at      â”‚
â”‚ updated_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ParserTemplate å­—æ®µè¯´æ˜ï¼š**
- `is_builtin`: å†…ç½®æ¨¡æ¿ä¸å¯åˆ é™¤/ä¿®æ”¹
- `lang`: è¡¨è¾¾å¼è¯­è¨€ï¼ŒMVP ä»…æ”¯æŒ `jmespath`
- `input_config`: `{type, record_path, encoding}`
- `mapping`: å­—æ®µæ˜ å°„é…ç½® (è§ Â§3.2.1.3)
- `validation`: æ ¡éªŒè§„åˆ™é…ç½®

**EventLog äº‹ä»¶ç±»å‹ï¼š**
| event_type | è¯´æ˜ | metadata |
|------------|------|----------|
| `annotation_start` | å¼€å§‹æ ‡æ³¨ | `{timestamp}` |
| `annotation_submit` | æäº¤æ ‡æ³¨ | `{duration_ms, annotation_count}` |
| `annotation_skip` | è·³è¿‡ | `{reason}` |
| `prediction_adopt` | é‡‡çº³é¢„æ ‡æ³¨ | `{modified: bool}` |
| `prediction_reject` | æ‹’ç»é¢„æ ‡æ³¨ | - |
| `image_load` | å›¾ç‰‡åŠ è½½ | `{duration_ms, from_cache}` |

### 7.2 çŠ¶æ€æœº

**Item (å›¾ç‰‡) çŠ¶æ€æšä¸¾ï¼š**

| çŠ¶æ€ | è¯´æ˜ | å¯è½¬æ¢åˆ° |
|------|------|----------|
| `todo` | å¾…æ ‡æ³¨ (åˆå§‹çŠ¶æ€) | `in_progress`, `skipped`, `deleted` |
| `in_progress` | æ ‡æ³¨ä¸­ (æœ‰è‰ç¨¿) | `done`, `skipped`, `todo`, `deleted` |
| `done` | å·²å®Œæˆ | `in_progress` (é‡æ–°ç¼–è¾‘), `skipped`, `deleted`, `rejected` (v2) |
| `skipped` | å·²è·³è¿‡ (**å¿…å¡«åŸå› **) | `todo`, `deleted` |
| `deleted` | è½¯åˆ é™¤ | `todo` (æ¢å¤) |
| `rejected` | è¢«é€€å› (v2) | `in_progress` |

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   deleted   â”‚ (è½¯åˆ é™¤ï¼Œå¯æ¢å¤)
                                    â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚ [åˆ é™¤]
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                     â”‚                         â”‚
     â–¼                                     â”‚                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  [å¼€å§‹]   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  [æäº¤]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  todo   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ in_progress â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  done   â”‚         â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â”‚
     â”‚                      â”‚                      â”‚               â”‚
     â”‚ [è·³è¿‡]               â”‚ [è·³è¿‡]               â”‚ [é‡ç¼–è¾‘]      â”‚
     â”‚                      â”‚                      â”‚               â”‚
     â–¼                      â–¼                      â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚               â”‚
â”‚           skipped               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚       (å¿…å¡«è·³è¿‡åŸå› )             â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
     â”‚                                                            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[å–æ¶ˆè·³è¿‡]â”€â”€â”€â”€â”€â”€â”€â”€â”€> todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è·³è¿‡åŸå›  (å¿…å¡«)ï¼š**
- å›¾ç‰‡æŸå/æ— æ³•åŠ è½½
- å›¾ç‰‡æ¨¡ç³Š/è´¨é‡å·®
- å†…å®¹ä¸ç¬¦åˆæ ‡æ³¨è¦æ±‚
- å…¶ä»– (éœ€å¡«å†™è¯´æ˜)

---

## 8. æŠ€æœ¯æ¶æ„

### 8.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å‰ç«¯ (SPA)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   React     â”‚  â”‚ Zustand/    â”‚  â”‚   Canvas    â”‚  â”‚  IndexedDB  â”‚ â”‚
â”‚  â”‚   Router    â”‚  â”‚ React Query â”‚  â”‚   Fabric.js â”‚  â”‚   Cache     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ REST API / WebSocket (å¯é€‰)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              åç«¯ (FastAPI)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Routers   â”‚  â”‚   Services  â”‚  â”‚    Models   â”‚  â”‚   Utils     â”‚ â”‚
â”‚  â”‚  /api/v1/*  â”‚  â”‚  Business   â”‚  â”‚  SQLAlchemy â”‚  â”‚  Thumbnail  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å­˜å‚¨å±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   PostgreSQL/SQLite â”‚  â”‚           æ–‡ä»¶å­˜å‚¨                     â”‚  â”‚
â”‚  â”‚   (å…ƒæ•°æ®)           â”‚  â”‚   æœ¬åœ°ç£ç›˜ / S3 / MinIO (å›¾ç‰‡)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 æŠ€æœ¯é€‰å‹ (å·²é”å®š)

| å±‚çº§ | æŠ€æœ¯ | ç†ç”± |
|------|------|------|
| **å‰ç«¯æ¡†æ¶** | React 18 + TypeScript | ç”Ÿæ€æˆç†Ÿï¼›Hooksï¼›å¹¶å‘ç‰¹æ€§ |
| **çŠ¶æ€ç®¡ç†** | Zustand + TanStack Query (React Query) | è½»é‡ï¼›æœåŠ¡ç«¯çŠ¶æ€åˆ†ç¦»ï¼›ç¼“å­˜ç®¡ç† |
| **UI ç»„ä»¶** | **Tailwind CSS + shadcn/ui** | è§ä¸‹æ–¹é€‰å‹è¯´æ˜ |
| **ç”»å¸ƒå¼•æ“** | **Fabric.js** | è§ä¸‹æ–¹é€‰å‹è¯´æ˜ |
| **åç«¯æ¡†æ¶** | FastAPI | é«˜æ€§èƒ½ï¼›ç±»å‹æç¤ºï¼›è‡ªåŠ¨æ–‡æ¡£ |
| **ORM** | SQLAlchemy 2.0 (async) | å¼‚æ­¥æ”¯æŒï¼›æˆç†Ÿç¨³å®š |
| **æ•°æ®åº“** | PostgreSQL (ç”Ÿäº§) / SQLite (å¼€å‘) | å¯é ï¼›JSON æ”¯æŒå¥½ |
| **å›¾ç‰‡å¤„ç†** | Pillow + libvips (å¯é€‰) | ç¼©ç•¥å›¾ç”Ÿæˆï¼›å¤§å›¾å¤„ç† |
| **è¡¨è¾¾å¼å¼•æ“** | jmespath (Python) | Parser Template æ ¸å¿ƒä¾èµ– |

#### 8.2.1 UI ç»„ä»¶åº“é€‰å‹ï¼šTailwind + shadcn/ui

**ä¸ºä»€ä¹ˆä¸é€‰ Ant Designï¼š**
- åŒ…ä½“ç§¯å¤§ (~1MB gzip)ï¼Œå½±å“é¦–å±åŠ è½½
- æ ·å¼å®šåˆ¶éœ€è¦†ç›– Less å˜é‡ï¼Œä¸ Tailwind ç”Ÿæ€ä¸å…¼å®¹
- è®¾è®¡é£æ ¼å"ä¸­åå°"ï¼Œæ ‡æ³¨å·¥å…·éœ€è¦æ›´ç´§å‡‘çš„ UI

**ä¸ºä»€ä¹ˆé€‰ shadcn/uiï¼š**
- åŸºäº Radix UI æ— æ ·å¼åŸè¯­ï¼Œå¯è®¿é—®æ€§å¥½
- ä»£ç å¤åˆ¶åˆ°é¡¹ç›®ï¼Œå®Œå…¨å¯æ§ï¼Œæ— è¿è¡Œæ—¶ä¾èµ–
- ä¸ Tailwind æ— ç¼é›†æˆ
- ç»„ä»¶æŒ‰éœ€å¼•å…¥ï¼ŒTree-shaking å‹å¥½
- ç¤¾åŒºæ´»è·ƒï¼Œæ›´æ–°å¿«

**è¿ç§»æˆæœ¬ï¼š** ä»é›¶å¼€å§‹ï¼Œæ— è¿ç§»é—®é¢˜

#### 8.2.2 ç”»å¸ƒå¼•æ“é€‰å‹ï¼šFabric.js

**ä¸ºä»€ä¹ˆé€‰ Fabric.js (è€Œé Konva)ï¼š**
- å¯¹è±¡æ¨¡å‹æ›´å®Œæ•´ (Group, ActiveSelection ç­‰)
- SVG å¯¼å…¥/å¯¼å‡ºæ”¯æŒå¥½
- ç¤¾åŒºæ›´å¤§ï¼Œæ–‡æ¡£æ›´å…¨
- å†…ç½®åºåˆ—åŒ–/ååºåˆ—åŒ– (`canvas.toJSON()` / `canvas.loadFromJSON()`)

**Undo/Redo å®ç°æ–¹æ¡ˆï¼šCommand Pattern**

```typescript
// å‘½ä»¤æ¥å£
interface Command {
  execute(): void;
  undo(): void;
  redo(): void;
}

// ç¤ºä¾‹ï¼šæ·»åŠ çŸ©å½¢å‘½ä»¤
class AddRectCommand implements Command {
  constructor(
    private canvas: fabric.Canvas,
    private rect: fabric.Rect,
  ) {}

  execute() {
    this.canvas.add(this.rect);
    this.canvas.setActiveObject(this.rect);
  }

  undo() {
    this.canvas.remove(this.rect);
  }

  redo() {
    this.execute();
  }
}

// å†å²ç®¡ç†å™¨
class HistoryManager {
  private undoStack: Command[] = [];
  private redoStack: Command[] = [];
  private readonly maxSize = 50;

  execute(cmd: Command) {
    cmd.execute();
    this.undoStack.push(cmd);
    this.redoStack = []; // æ¸…ç©º redo æ ˆ
    if (this.undoStack.length > this.maxSize) {
      this.undoStack.shift();
    }
  }

  undo() {
    const cmd = this.undoStack.pop();
    if (cmd) {
      cmd.undo();
      this.redoStack.push(cmd);
    }
  }

  redo() {
    const cmd = this.redoStack.pop();
    if (cmd) {
      cmd.redo();
      this.undoStack.push(cmd);
    }
  }
}
```

**æ”¯æŒçš„å‘½ä»¤ç±»å‹ï¼š**
| å‘½ä»¤ | è§¦å‘æ“ä½œ |
|------|----------|
| `AddObjectCommand` | åˆ›å»º bbox/polygon/åˆ†ç±»æ ‡ç­¾ |
| `RemoveObjectCommand` | åˆ é™¤æ ‡æ³¨ |
| `ModifyObjectCommand` | ç§»åŠ¨ã€ç¼©æ”¾ã€æ—‹è½¬ |
| `ChangePropertyCommand` | ä¿®æ”¹ç±»åˆ«ã€å±æ€§ |
| `BatchCommand` | æ‰¹é‡æ“ä½œ (åŒ…è£…å¤šä¸ªå­å‘½ä»¤) |

---

## 9. API è®¾è®¡ (æ ¸å¿ƒæ¥å£)

### 9.1 RESTful ç«¯ç‚¹

```yaml
# é¡¹ç›®ç®¡ç†
POST   /api/v1/projects                    # åˆ›å»ºé¡¹ç›®
GET    /api/v1/projects                    # é¡¹ç›®åˆ—è¡¨
GET    /api/v1/projects/{id}               # é¡¹ç›®è¯¦æƒ…
PUT    /api/v1/projects/{id}               # æ›´æ–°é¡¹ç›®
DELETE /api/v1/projects/{id}               # åˆ é™¤é¡¹ç›®

# æ•°æ®é›†
POST   /api/v1/projects/{id}/datasets      # åˆ›å»ºæ•°æ®é›†
GET    /api/v1/projects/{id}/datasets      # æ•°æ®é›†åˆ—è¡¨
POST   /api/v1/datasets/{id}/import        # å¯¼å…¥å›¾ç‰‡ (æœåŠ¡å™¨è·¯å¾„)
  # Body: { source_type: "local_path" | "s3", path: "/data/images", pattern: "*.jpg" }

# Parser Template (é¢„æ ‡æ³¨æ¨¡æ¿)
POST   /api/v1/parser-templates            # åˆ›å»ºæ¨¡æ¿
GET    /api/v1/parser-templates            # æ¨¡æ¿åˆ—è¡¨ (å«å†…ç½®)
GET    /api/v1/parser-templates/{id}       # æ¨¡æ¿è¯¦æƒ…
PUT    /api/v1/parser-templates/{id}       # æ›´æ–°æ¨¡æ¿
DELETE /api/v1/parser-templates/{id}       # åˆ é™¤æ¨¡æ¿ (å†…ç½®ä¸å¯åˆ )
POST   /api/v1/parser-templates/test       # æµ‹è¯•è§£æ (è¿”å›å‰ 20 æ¡ç»“æœ + é”™è¯¯)

# é¢„æ ‡æ³¨å¯¼å…¥
POST   /api/v1/datasets/{id}/import-predictions  # å¯¼å…¥é¢„æ ‡æ³¨
  # Body: multipart/form-data { template_id, file, options: {conflict, score_threshold} }
  # Response: { job_id } (å¼‚æ­¥)
GET    /api/v1/jobs/{id}                   # æŸ¥è¯¢å¼‚æ­¥ä»»åŠ¡çŠ¶æ€

# å›¾ç‰‡
GET    /api/v1/datasets/{id}/images        # å›¾ç‰‡åˆ—è¡¨ (åˆ†é¡µ+ç­›é€‰+æ’åº)
GET    /api/v1/images/{id}                 # å›¾ç‰‡è¯¦æƒ…+æ ‡æ³¨
GET    /api/v1/images/{id}/thumbnail       # ç¼©ç•¥å›¾ (æ”¯æŒ ETag/304)
GET    /api/v1/images/{id}/medium          # ä¸­å›¾ 800px (æ”¯æŒ ETag/304)
GET    /api/v1/images/{id}/file            # åŸå›¾ (æ”¯æŒ Range/206)

# æ ‡æ³¨ (æ”¯æŒä¹è§‚é”)
GET    /api/v1/images/{id}/annotations     # è·å–æ ‡æ³¨ (è¿”å› ETag)
PUT    /api/v1/images/{id}/annotations     # æ›´æ–°æ ‡æ³¨ (éœ€ If-Match)
  # Headers: If-Match: "v3"
  # Response: 200 OK | 412 Precondition Failed
DELETE /api/v1/annotations/{id}            # åˆ é™¤å•ä¸ªæ ‡æ³¨

# ä»»åŠ¡é˜Ÿåˆ—
GET    /api/v1/datasets/{id}/next          # è·å–ä¸‹ä¸€ä¸ªå¾…æ ‡ä»»åŠ¡
POST   /api/v1/images/{id}/skip            # è·³è¿‡ (å¿…å¡« reason)
POST   /api/v1/images/{id}/submit          # æäº¤

# ç»Ÿè®¡ (åŸºäºäº‹ä»¶æ—¥å¿—)
GET    /api/v1/projects/{id}/stats         # é¡¹ç›®ç»Ÿè®¡
GET    /api/v1/projects/{id}/stats/daily   # æ¯æ—¥ç»Ÿè®¡
GET    /api/v1/projects/{id}/stats/annotators  # æ ‡æ³¨å‘˜ç»Ÿè®¡

# å¯¼å‡º
POST   /api/v1/projects/{id}/export        # è§¦å‘å¯¼å‡º (å¼‚æ­¥)
GET    /api/v1/exports/{id}                # ä¸‹è½½å¯¼å‡ºæ–‡ä»¶
```

---

## 10. ç‰ˆæœ¬è§„åˆ’

### 10.1 ç‰ˆæœ¬è·¯çº¿å›¾

```
v1.0 MVP (å½“å‰) - P0 å¿…åš
â”œâ”€â”€ åˆ†ç±»æ ‡æ³¨
â”œâ”€â”€ ç›®æ ‡æ£€æµ‹ (BBox)
â”œâ”€â”€ å¤šè¾¹å½¢åˆ†å‰² (Polygon)
â”œâ”€â”€ Parser Template ç³»ç»Ÿ (ä»»æ„ JSON/JSONL)
â”‚   â”œâ”€â”€ JMESPath è¡¨è¾¾å¼å¼•æ“
â”‚   â””â”€â”€ å†…ç½® COCO/YOLO/VOC æ¨¡æ¿
â”œâ”€â”€ å¿«æ·é”®ç³»ç»Ÿ
â”œâ”€â”€ Undo/Redo (Command Pattern)
â”œâ”€â”€ è¿›åº¦æ˜¾ç¤º & ç»Ÿè®¡ (äº‹ä»¶æ—¥å¿—)
â”œâ”€â”€ æ…¢ç½‘ä¼˜åŒ–
â”‚   â”œâ”€â”€ ç¼©ç•¥å›¾/ä¸­å›¾/é¢„å–
â”‚   â”œâ”€â”€ HTTP ç¼“å­˜ (ETag/304)
â”‚   â”œâ”€â”€ ä¹è§‚é” (If-Match/412)
â”‚   â””â”€â”€ è™šæ‹Ÿåˆ—è¡¨/éª¨æ¶å±
â””â”€â”€ æœåŠ¡å™¨è·¯å¾„ç´¢å¼•å¯¼å…¥æ•°æ®é›†

v1.0 MVP (å¯é€‰/é™çº§)
â”œâ”€â”€ ZIP æ–‡ä»¶ä¸Šä¼ å¯¼å…¥
â”œâ”€â”€ Range/206 å¤§æ–‡ä»¶æ–­ç‚¹
â”œâ”€â”€ æ·±è‰²æ¨¡å¼
â””â”€â”€ äº®åº¦/å¯¹æ¯”åº¦è°ƒæ•´

v1.1 (MVP+2ä¸ªæœˆ)
â”œâ”€â”€ Mask ç”»ç¬”åˆ†å‰²
â”œâ”€â”€ ç¦»çº¿æ ‡æ³¨æ”¯æŒ
â”œâ”€â”€ æ ‡æ³¨å·¥å…·æ’ä»¶æœºåˆ¶
â”œâ”€â”€ è‡ªå®šä¹‰å±æ€§å­—æ®µ
â”œâ”€â”€ JSONPath (RFC 9535) å…¼å®¹
â””â”€â”€ æ‰¹é‡æ“ä½œå¢å¼º

v2.0 (+6ä¸ªæœˆ)
â”œâ”€â”€ å®¡é˜…å·¥ä½œæµ
â”œâ”€â”€ å¤šäººåä½œ (å®æ—¶å†²çªå¤„ç†)
â”œâ”€â”€ å…³é”®ç‚¹æ ‡æ³¨
â”œâ”€â”€ è§†é¢‘æ ‡æ³¨
â”œâ”€â”€ AI è¾…åŠ© (SAMé›†æˆ)
â”œâ”€â”€ Webhook & API æ‰©å±•
â””â”€â”€ SSO é›†æˆ
```

---

## é™„å½•

### A. æœ¯è¯­è¡¨

| æœ¯è¯­ | è§£é‡Š |
|------|------|
| BBox | Bounding Boxï¼ŒçŸ©å½¢è¾¹ç•Œæ¡† |
| Polygon | å¤šè¾¹å½¢ï¼Œç”±å¤šä¸ªé¡¶ç‚¹æ„æˆçš„å°é—­åŒºåŸŸ |
| Mask | åƒç´ çº§åˆ†å‰²æ©ç  |
| Pre-annotation | é¢„æ ‡æ³¨ï¼Œç”±æ¨¡å‹ç”Ÿæˆçš„åˆå§‹æ ‡æ³¨ç»“æœ |
| LQIP | Low Quality Image Placeholderï¼Œä½è´¨é‡å›¾ç‰‡å ä½ |
| IoU | Intersection over Unionï¼Œäº¤å¹¶æ¯” |

### B. å‚è€ƒèµ„æ–™

- [Label Studio](https://labelstud.io/) - åŠŸèƒ½å‚è€ƒ
- [CVAT](https://cvat.ai/) - æ¶æ„å‚è€ƒ
- [Fabric.js](http://fabricjs.com/) - Canvas å¼•æ“
- [FastAPI](https://fastapi.tiangolo.com/) - åç«¯æ¡†æ¶
